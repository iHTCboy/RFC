组织：中国互动出版网（http://www.china-pub.com/）
RFC文档中文翻译计划（http://www.china-pub.com/compters/emook/aboutemook.htm）
E-mail：ouyang@china-pub.com
译者： x1982212(x1982212)
译文发布时间：2001-11-24
版权：本中文翻译文档版权归中国互动出版网所有。可以用于非商业用途自由转载，但必须
保留本文档的翻译及版权信息。


Network Working Group                                            D. Katz
Request for Comments: 2113                                  cisco Systems
Category: Standards Track                                    February 1997
IP路由器警告选项
(RFC2113――IP Router Alert Option)

本备忘录的状态
本文档讲述了一种Internet社区的Internet标准跟踪协议，它需要进一步进行讨论和建
议以得到改进。请参考最新版的“Internet正式协议标准” (STD1)来获得本协议的标准化
程度和状态。本备忘录的发布不受任何限制。
版权声明
Copyright (C) The Internet Society (2001).
摘要
这篇文档描述了一个新的IP选项，它告诫操作路由器更仔细地检查IP包的内容。它对
于那些寻址到一个目的地但是要求在路径上的路由器里进行相对复杂处理的协议很有用，但
是不限于此。
目录
1.0介绍	1
2.0路由器警告选项	2
2．1语法	2
2．2语义	3
3.0对其它协议的影响	3
4.0安全考虑	3
5.0参考文献	3
6.0作者地址	3

1.0介绍
路由协议最近的趋势是简单地将新路由功能合并到存在的单点传送路由中。这样做的动
机是简单而优雅的DD它允许在不重新改造所有基本路由协议功能的情况下配置新的路由
功能，因而大大降低了说明和实现的复杂度。
不利方面是新功能在单点传送中只能依靠最少共同点，目标方向的下一个中继。不能作
出更丰富细节信息比如一个状态连接状态数据库）是否存在的任何假设。
最好也能够渐近地配置新技术，以明确地避免升级源和目的路径间的所有路由器。这个
目的和可获取的最少共同点有些冲突，因为一个路由器，如果它不是紧挨着另一个支持新协
议的路由器，它就没有办法确定其它同类路由器的位置或身份（除非在单点传送之外实现了
某些和flooding算法相似的东西，而它是和简单性目的相冲突的）。
一个支持单点传送路由的明显方法是对新协议包沿着到达最终目的的路径做
hop-by-hop推进。每个实现了新协议的系统都有责任为数据包寻址到路径上下一个系统，
这个系统必须能够理解这个数据包。但是，正如上面所说，很难知道下一个实现该协议的系
统。这是同步布置新协议的一个障碍。
RSVP[1]通过把最终目的地的地址放在IP目的地址字段的方式使问题得到好转，然后要
求每个RSVP路由器在前进路径上作一个小小的修改，以寻找特别的RSVP包，并把这些包拉
离前进主干线，在继续推进它们之前对其执本地处理。这种做法的决定性优势在于它允许自
动通过那些不理解RSVP的路由器，因为数据包将自然地流向最终目的地。但是，作此小小
改动的代价可能无法接受，因为路由器前进的主干线往往是调整到最佳的―即使是额外的一
条指令也可能招致每秒几百个数据包的性能损失。
2.0路由器警告选项
因此，目的就是提供一种机制，通过这种机制路由器能截取不直接寻址到它们的数据包，
而且不会招致任何重大的性能损失。为此目的，这篇文档定义了一个新的IP选项类型，路
由器警告。
路由器警告选项语义是“路由器应该更仔细地检查这个包”。通过在其协议消息的IP
头里包含路由器警告选项，RSVP能在对普通数据包的推进有少量或没有性能损失的情况下，
使消息被截取。
支持快速寻路中选项处理的路由器已经根据选项类型字段进行了多路分解处理。如果所
有的选项类型在快速寻路中都支持，那么在处理过程上附加上另一个选项类型就不大可能影
响性能。如果某些选项类型在快速寻路中不支持，这个新选项类型就无法识别，并使携带它
的包被踢到慢速寻路中，因此有必要对快速寻路不作任何改动，而且不会对普通数据包带来
任何性能损失。
不支持在快速寻路中进行选项处理的路由器会使携带这种新选项的包通过慢速寻路的
方式推进，因此有必要对快速寻路不作任何改动，而且不会对普通数据包带来任何性能损失。
2．1语法
路由器警告选项具有如下格式：
+--------+--------+--------+--------+
                 |10010100|00000100|  2 octet value  |
                 +--------+--------+--------+--------+
类型：拷贝标志：1（所有段都必须携带此选项）
      选项种类：0（控制）
      选项号：20（十进制）
长度：4
值：具有如下值的两个八位码：
    0―路由器将检查包
1－65535―保留
2．2语义
     主机将忽略此选项。不能识别此项的路由器将忽略它。能识别此选项的路由器将更仔
细地检查携带此选项的数据包（比如，检查IP协议字段）以决定进一步的处理是否必要。
不能识别的值字段会悄悄地忽略掉。
值字段中的其它值的语义需要进一步学习。
3.0对其它协议的影响
为了此选项有效率，它必须使用在这样的协议中，这些协议期望路由器对非直接寻址到
它们的包执行有意义的处理。目前这样协议包括RSVP[1]和IGMP[2]。
4.0安全考虑
如果路由器警告选项应该设置并且还没有设置的话，使用路由器警告的协议，比如RSVP
或IGMPv2的行为将会受到相反的影响，因为协议依赖于路由器警告选项的使用。
如果路由器警告选项应该设置并且设置了的话，数据流很可能蒙受性能损失，因为一个
设置了路由器警告选项的数据包不会经由路由器的快速寻路，并且路由器对它的处理比选项
没有设置时慢得多。
5.0参考文献
    [1] Braden, B. (ed.), L. Zhang, D. Estrin, S. Herzog, S. Jamin,
       "Resource ReSerVation Protocol (RSVP)," work in progress, March
       1996.

   [2] Fenner, W., "Internet Group Management Protocol, Version 2
       (IGMPv2)," work in progress, October 1996.
6.0作者地址
    Dave Katz
      cisco Systems
      170 W. Tasman Dr.
      San Jose, CA  95134-1706  USA

      电话:  +1 408 526 8284
      Email:  dkatz@cisco.com

 RFC2113――IP Router Alert Option                                           IP路由器警告选项


2
RFC文档中文翻译计划
